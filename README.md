# git-up-to-date

Send a message to discord with your changelog with each release.

Must be integrated into the continuous integration flow.

You must use the changelog style generated by [Lerna](https://github.com/lerna/lerna) or [standard-version](https://github.com/conventional-changelog/standard-version)

## Enviroment variables

| Property      |    Default     | Description                          |
| ------------- | :------------: | ------------------------------------ |
| CHANGELOGPATH | `CHANGELOG.md` | Changelog path.                      |
| CHANNELID     |       -        | Discord channel id.                  |
| TOKEN         |       -        | Discord bot token.                   |
| PROJECT       |       -        | Project name. Used in message title. |

## Usage example

### gitlab CI

```yml
notify-changelog:
  image:
    name: gituptodate:latest
  script:
    - git-up-to-date
  variables:
    CHANGELOGPATH: CHANGELOG.md
    CHANNELID: $DISCORD_CHANNEL
    TOKEN: $DISCORD_TOKEN
    PROJECT: My wonderful project
  only:
    - master
```
